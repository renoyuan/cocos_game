{"version":3,"sources":["file:///F:/cocos/cocos_game/game/04/match-3/assets/script/model/CellModel.ts"],"names":["CellModel","v2","CELL_TYPE","ANITIME","CELL_STATUS","type","status","COMMON","x","y","startX","startY","cmd","isDeath","objecCount","Math","floor","random","init","isEmpty","EMPTY","setEmpty","setXY","setStartXY","setStatus","moveToAndBack","pos","srcPos","push","action","keepTime","TOUCH_MOVE","playTime","moveTo","toDie","DIE","toShake","DIE_SHAKE","setVisible","isVisible","moveToAndDie","isBird","G"],"mappings":"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","sourcesContent":["import { CELL_TYPE, ANITIME, CELL_STATUS, GRID_HEIGHT } from './Const';\r\nimport { _decorator, Component, Node, AudioSource, Button,v2, Vec2 } from 'cc';\r\n\r\n// 操作cell\r\nexport default class CellModel {\r\n  \r\n    public type = null;\r\n    public status = CELL_STATUS.COMMON;\r\n    public x = 1;\r\n    public y = 1;\r\n    public startX = 1;\r\n    public startY = 1;\r\n    public cmd = [];\r\n    public isDeath = false;\r\n    public objecCount = Math.floor(Math.random() * 1000);\r\n\r\n\r\n  init(type) {\r\n    this.type = type;\r\n  }\r\n\r\n  isEmpty() {\r\n    return this.type == CELL_TYPE.EMPTY;\r\n  }\r\n\r\n  setEmpty() {\r\n    this.type = CELL_TYPE.EMPTY;\r\n  }\r\n  setXY(x, y) {\r\n    this.x = x;\r\n    this.y = y;\r\n  }\r\n\r\n  setStartXY(x, y) {\r\n    this.startX = x;\r\n    this.startY = y;\r\n  }\r\n\r\n  setStatus(status) {\r\n    this.status = status;\r\n  }\r\n\r\n  moveToAndBack(pos) {\r\n    var srcPos = v2(this.x, this.y);\r\n    this.cmd.push({\r\n      action: \"moveTo\",\r\n      keepTime: ANITIME.TOUCH_MOVE,\r\n      playTime: 0,\r\n      pos: pos\r\n    });\r\n    this.cmd.push({\r\n      action: \"moveTo\",\r\n      keepTime: ANITIME.TOUCH_MOVE,\r\n      playTime: ANITIME.TOUCH_MOVE,\r\n      pos: srcPos\r\n    });\r\n  }\r\n\r\n  moveTo(pos, playTime) {\r\n    var srcPos = v2(this.x, this.y);\r\n    this.cmd.push({\r\n      action: \"moveTo\",\r\n      keepTime: ANITIME.TOUCH_MOVE,\r\n      playTime: playTime,\r\n      pos: pos\r\n    });\r\n    this.x = pos.x;\r\n    this.y = pos.y;\r\n  }\r\n\r\n  toDie(playTime) {\r\n    this.cmd.push({\r\n      action: \"toDie\",\r\n      playTime: playTime,\r\n      keepTime: ANITIME.DIE\r\n    });\r\n    this.isDeath = true;\r\n  }\r\n\r\n  toShake(playTime) {\r\n    this.cmd.push({\r\n      action: \"toShake\",\r\n      playTime: playTime,\r\n      keepTime: ANITIME.DIE_SHAKE\r\n    });\r\n  }\r\n\r\n  setVisible(playTime, isVisible) {\r\n    this.cmd.push({\r\n      action: \"setVisible\",\r\n      playTime: playTime,\r\n      keepTime: 0,\r\n      isVisible: isVisible\r\n    });\r\n  }\r\n\r\n  moveToAndDie(pos) {\r\n\r\n  }\r\n\r\n  isBird() {\r\n    return this.type == CELL_TYPE.G;\r\n  }\r\n\r\n}\r\n"]}